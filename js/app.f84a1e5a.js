(function(){"use strict";var e={8247:function(e,t,a){var s=a(3751),r=a(641);const i={id:"app"};function n(e,t,a,s,n,o){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.bF)(l)])}var o={name:"App"},l=a(6262);const c=(0,l.A)(o,[["render",n]]);var d=c,u=a(5220);const v={id:"app"};function h(e,t,a,s,i,n){const o=(0,r.g2)("AppHeader"),l=(0,r.g2)("FormOne"),c=(0,r.g2)("FormTwo"),d=(0,r.g2)("FormThree"),u=(0,r.g2)("FormFour"),h=(0,r.g2)("FormFive"),m=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",v,[(0,r.bF)(o),(0,r.bF)(l),(0,r.bF)(c),(0,r.bF)(d),(0,r.bF)(u),(0,r.bF)(h),(0,r.bF)(m)])}var m=a(33);const g={class:"header"},p={class:"header-top"},b={class:"nav nav-desktop"},f={class:"nav nav-menu-mobile"};function k(e,t,a,i,n,o){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("header",g,[(0,r.Lk)("div",p,[(0,r.bF)(l,{to:"/",class:"logo"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)('ИП "Белкин"')]))),_:1,__:[1]}),(0,r.Lk)("button",{class:"menu-toggle",onClick:t[0]||(t[0]=(...e)=>o.toggleMenu&&o.toggleMenu(...e))},(0,m.v_)(n.isMenuOpen?"✖":"☰"),1),(0,r.Lk)("nav",b,[(0,r.bF)(l,{to:"/services",class:"nav-link"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.eW)("Услуги")]))),_:1,__:[2]}),(0,r.bF)(l,{to:"/pricing",class:"nav-link"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("Прейскурант")]))),_:1,__:[3]}),(0,r.bF)(l,{to:"/reviews",class:"nav-link"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("Отзывы")]))),_:1,__:[4]}),(0,r.bF)(l,{to:"/contacts",class:"nav-link"},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)("Контакты")]))),_:1,__:[5]})])]),(0,r.bF)(s.eB,{name:"slide-down"},{default:(0,r.k6)((()=>[(0,r.bo)((0,r.Lk)("nav",f,[(0,r.bF)(l,{to:"/services",class:"nav-link"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)("Услуги")]))),_:1,__:[6]}),(0,r.bF)(l,{to:"/pricing",class:"nav-link"},{default:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.eW)("Прейскурант")]))),_:1,__:[7]}),(0,r.bF)(l,{to:"/reviews",class:"nav-link"},{default:(0,r.k6)((()=>t[8]||(t[8]=[(0,r.eW)("Отзывы")]))),_:1,__:[8]}),(0,r.bF)(l,{to:"/contacts",class:"nav-link"},{default:(0,r.k6)((()=>t[9]||(t[9]=[(0,r.eW)("Контакты")]))),_:1,__:[9]})],512),[[s.aG,n.isMenuOpen]])])),_:1})])}var w={name:"AppHeader",data(){return{isMenuOpen:!1}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen}}};const y=(0,l.A)(w,[["render",k],["__scopeId","data-v-5fe46ab4"]]);var L=y;const _={class:"form1"},F={class:"image-container"},R=["src"],E={class:"hero-text"},A=["src"];function P(e,t,a,s,i,n){return(0,r.uX)(),(0,r.CE)("section",_,[(0,r.Lk)("div",F,[(0,r.Lk)("img",{class:"image",src:`${i.publicPath}images/image_145.png`,alt:"Hero image"},null,8,R),t[1]||(t[1]=(0,r.Fv)('<div class="blur-strip strip-1" data-v-3ff1a8b8></div><div class="blur-strip strip-2" data-v-3ff1a8b8></div><div class="blur-strip strip-3" data-v-3ff1a8b8></div><div class="blur-strip strip-4" data-v-3ff1a8b8></div><div class="blur-strip strip-5" data-v-3ff1a8b8></div><div class="blur-strip strip-6" data-v-3ff1a8b8></div>',6))]),(0,r.Lk)("div",E,[t[2]||(t[2]=(0,r.Lk)("h1",null,[(0,r.eW)("СПЕЦИАЛЬНАЯ ОЦЕНКА "),(0,r.Lk)("br"),(0,r.eW)(" УСЛОВИЙ ТРУДА")],-1)),t[3]||(t[3]=(0,r.Lk)("p",null,"ИП “Белкин” - это надежная компания по оценке условий труда",-1)),t[4]||(t[4]=(0,r.Lk)("button",{class:"hero-button"},"Подробнее о компании",-1)),(0,r.Lk)("img",{class:"angle",src:`${i.publicPath}images/angle.png`,alt:"Стрелочка",onClick:t[0]||(t[0]=(...e)=>n.scrollToNextSection&&n.scrollToNextSection(...e))},null,8,A)])])}var C={name:"FormOne",data(){return{publicPath:"/frontend_belkin/"}},methods:{scrollToNextSection(){const e=document.querySelector(".form2");e&&e.scrollIntoView({behavior:"smooth"})}}};const x=(0,l.A)(C,[["render",P],["__scopeId","data-v-3ff1a8b8"]]);var S=x;function I(e,t,a,s,i,n){return t[0]||(t[0]=(0,r.Fv)('<section class="form2" data-v-74b53024><div class="collage" data-v-74b53024><img src="/images/Rectangle 95.png" alt="Safety helmet" data-v-74b53024><img src="/images/Rectangle 96.png" alt="Safety gloves" data-v-74b53024></div><div class="ride" data-v-74b53024><div class="ride-text" data-v-74b53024><h2 data-v-74b53024>ИП &quot;Белкин&quot; - это надежный партнер в оценке условий труда</h2><p data-v-74b53024> Мы предоставляем услуги по проведению специальной оценки условий труда и оформлению документов по охране труда для вашего предприятия </p><button class="detalis-button" data-v-74b53024>Узнать больше</button></div></div></section><section class="form3" data-v-74b53024><h2 data-v-74b53024>Преимущества сотрудничества с ИП &quot;Белкин&quot;</h2><div class="benefits" data-v-74b53024><div class="benefit-item" data-v-74b53024><div class="benefit-icon-background" data-v-74b53024><img src="/images/fire-icon.png" alt="Fire icon" class="benefit-icon" data-v-74b53024></div><h3 data-v-74b53024>Опыт и <br data-v-74b53024> надежность</h3><p data-v-74b53024>Компании обладает многолетним опытом в сфере охраны труда, что делает нас надежным партнером.</p></div><div class="benefit-item" data-v-74b53024><div class="benefit-icon-background" data-v-74b53024><img src="/images/thumbs-up-icon.png" alt="Thumbs up icon" class="benefit-icon" data-v-74b53024></div><h3 data-v-74b53024>Индивидуальный подход</h3><p data-v-74b53024>Каждому клиенту мы предлагаем решение, разработанное под его задачи и потребности.</p></div><div class="benefit-item" data-v-74b53024><div class="benefit-icon-background" data-v-74b53024><img src="/images/bolt-icon.png" alt="Bolt icon" class="benefit-icon" data-v-74b53024></div><h3 data-v-74b53024>Профессиональный коллектив</h3><p data-v-74b53024>Наши специалисты постоянно повышают свои квалификации, чтобы предоставлять качественные услуги.</p></div></div></section>',2))}a(8111),a(7588);var M={name:"FormTwo",mounted(){this.setupScrollAnimations()},methods:{setupScrollAnimations(){const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(this.animateElements(),e.unobserve(t.target))}))}),{threshold:.3});this.$nextTick((()=>{e.observe(this.$el)}))},animateElements(){const e=document.querySelectorAll(".ride-text h2, .ride-text p, .detalis-button, .benefit-item");e.forEach(((e,t)=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition=`opacity 0.6s ease ${.15*t}s, transform 0.6s ease ${.15*t}s`,setTimeout((()=>{e.style.opacity="1",e.style.transform="translateY(0)"}),100+150*t)}))}}};const T=(0,l.A)(M,[["render",I],["__scopeId","data-v-74b53024"]]);var q=T;const $={class:"form3"},X={class:"banner-content",ref:"content"};function O(e,t,a,s,i,n){return(0,r.uX)(),(0,r.CE)("section",$,[(0,r.Lk)("div",{class:"banner",onMousemove:t[0]||(t[0]=(...e)=>n.handleMouseMove&&n.handleMouseMove(...e))},[t[2]||(t[2]=(0,r.Lk)("img",{src:"/images/banner-bg.png",alt:"Banner background",class:"banner-image"},null,-1)),(0,r.Lk)("div",X,t[1]||(t[1]=[(0,r.Lk)("h2",null,[(0,r.eW)("СПЕЦИАЛЬНАЯ ОЦЕНКА "),(0,r.Lk)("br"),(0,r.eW)(" УСЛОВИЙ ТРУДА")],-1),(0,r.Lk)("p",null,"Профессиональное оформление документов",-1),(0,r.Lk)("button",{class:"banner-button"},"Связаться с нами",-1)]),512)],32)])}var W={name:"FormThree",mounted(){this.setupScrollAnimation()},methods:{setupScrollAnimation(){const e=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const a=t.target.querySelector(".banner-content");a.style.transition="opacity 0.8s ease, transform 0.8s ease",a.style.opacity="1",a.style.transform="translateY(0)",e.unobserve(t.target)}}))}),{threshold:.3});this.$nextTick((()=>e.observe(this.$el)))},handleMouseMove(e){const t=e.currentTarget,a=t.getBoundingClientRect(),s=e.clientX-a.left,r=e.clientY-a.top,i=20*(s/a.width-.5),n=20*(r/a.height-.5);t.querySelector(".banner-image").style.transform=`translate(${i}px, ${n}px) scale(1.05)`}}};const B=(0,l.A)(W,[["render",O],["__scopeId","data-v-2076308f"]]);var j=B;const H={class:"form4"},z={key:0,class:"reviews"},D=["data-index"],V={class:"author"},K={key:1,class:"loading"};function U(e,t,a,s,i,n){return(0,r.uX)(),(0,r.CE)("section",H,[t[1]||(t[1]=(0,r.Lk)("h2",null,"Отзывы клиентов",-1)),t[2]||(t[2]=(0,r.Lk)("p",{class:"subtitle"},"Доверие, подтвержденное результатами",-1)),i.reviews.length?((0,r.uX)(),(0,r.CE)("div",z,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.reviews.slice(0,3),((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"review-card",key:e.id,"data-index":a},[t[0]||(t[0]=(0,r.Lk)("img",{src:"/images/review-icon.png",alt:"Review icon",class:"review-icon"},null,-1)),(0,r.Lk)("p",null,(0,m.v_)(e.text),1),(0,r.Lk)("p",V,(0,m.v_)(e.name),1)],8,D)))),128))])):((0,r.uX)(),(0,r.CE)("div",K,"Загрузка отзывов..."))])}var Y=a(4335),N={name:"FormFour",data(){return{reviews:[]}},async mounted(){await this.fetchReviews(),this.$nextTick((()=>this.setupScrollAnimation()))},methods:{async fetchReviews(){try{const e=await Y.A.get("http://212.192.127.152:9000/reviews/",{params:{_limit:3}});this.reviews=e.data}catch(e){console.error("Ошибка при загрузке отзывов:",e)}},setupScrollAnimation(){const e=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const a=t.target.querySelectorAll(".review-card");a.forEach(((e,t)=>{setTimeout((()=>{e.classList.add("visible")}),200*t)})),e.unobserve(t.target)}}))}),{threshold:.3});this.$nextTick((()=>e.observe(this.$el)))}}};const J=(0,l.A)(N,[["render",U],["__scopeId","data-v-46edd8cf"]]);var Q=J;const Z={class:"form5"},G={class:"contact-banner"},ee={class:"contact-content"},te={class:"contact-info"},ae=["type","placeholder","onUpdate:modelValue","onFocus","onBlur"],se={key:0,class:"error-message"},re=["disabled"];function ie(e,t,a,i,n,o){return(0,r.uX)(),(0,r.CE)("section",Z,[(0,r.Lk)("div",G,[t[5]||(t[5]=(0,r.Lk)("img",{src:"/images/contact-bg.png",alt:"Contact background",class:"contact-image"},null,-1)),(0,r.Lk)("div",ee,[t[3]||(t[3]=(0,r.Lk)("h2",null,[(0,r.eW)("Оцените условия труда "),(0,r.Lk)("br"),(0,r.eW)(" в вашей компании")],-1)),t[4]||(t[4]=(0,r.Lk)("p",null,"Оставьте заявку и мы свяжемся с вами",-1)),(0,r.Lk)("div",te,[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(["name","phone","email"],((e,t)=>(0,r.Lk)("div",{class:"contact-item",key:t},[(0,r.bo)((0,r.Lk)("input",{type:"phone"===t?"tel":t,placeholder:"name"===t?"Имя":"phone"===t?"+7 (777) 777-77-77":"Почта","onUpdate:modelValue":e=>n.form[t]=e,class:(0,m.C4)({error:n.errors[t]}),onFocus:e=>o.onFocus(t),onBlur:e=>o.onBlur(t)},null,42,ae),[[s.hp,n.form[t]]]),n.errors[t]?((0,r.uX)(),(0,r.CE)("span",se,(0,m.v_)(n.errors[t]),1)):(0,r.Q3)("",!0)]))),64)),(0,r.Lk)("button",{class:"contact-button",onClick:t[0]||(t[0]=(...e)=>o.submitForm&&o.submitForm(...e)),disabled:n.isSubmitting,onMouseenter:t[1]||(t[1]=e=>n.buttonHover=!0),onMouseleave:t[2]||(t[2]=e=>n.buttonHover=!1)},[(0,r.Lk)("span",{class:(0,m.C4)({sending:n.isSubmitting})},(0,m.v_)(n.isSubmitting?"Отправка...":"Получить консультацию"),3)],40,re)])])])])}var ne={name:"FormFive",data(){return{form:{name:"",phone:"",email:""},errors:{name:"",phone:"",email:""},isSubmitting:!1,buttonHover:!1}},mounted(){this.setupScrollAnimation()},methods:{setupScrollAnimation(){const e=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const a=t.target.querySelector(".contact-content");a.style.transition="all 0.9s ease-out",a.style.opacity="1",a.style.transform="translateY(0)",e.unobserve(t.target)}}))}),{threshold:.3});this.$nextTick((()=>e.observe(this.$el)))},onFocus(e){this.focusedField=e},onBlur(){this.focusedField=null},sanitizeInput(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML},validateForm(){this.errors={name:"",phone:"",email:""};let e=!0;const t=/^[a-zA-Zа-яА-Я\s-]{2,50}$/;this.form.name.trim()?t.test(this.form.name.trim())||(this.errors.name="Имя: 2–50 букв",e=!1):(this.errors.name="Введите имя",e=!1);const a=/^\+?\d{10,15}$/;this.form.phone.trim()?a.test(this.form.phone.replace(/\D/g,""))||(this.errors.phone="Некорректный номер",e=!1):(this.errors.phone="Введите телефон",e=!1);const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return this.form.email.trim()?s.test(this.form.email)||(this.errors.email="Некорректный email",e=!1):(this.errors.email="Введите email",e=!1),e},async submitForm(){if(!this.validateForm())return;this.isSubmitting=!0;const e={name:this.sanitizeInput(this.form.name.trim()),phone_number:this.sanitizeInput(this.form.phone.trim()),email:this.sanitizeInput(this.form.email.trim())};try{const t=await fetch("http://212.192.127.152:9000/data/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Ошибка отправки");alert("Заявка отправлена!"),this.form={name:"",phone:"",email:""}}catch(t){alert("Ошибка: "+t.message)}finally{this.isSubmitting=!1}}}};const oe=(0,l.A)(ne,[["render",ie],["__scopeId","data-v-8817a3aa"]]);var le=oe;const ce={class:"footer"};function de(e,t,a,s,i,n){return(0,r.uX)(),(0,r.CE)("footer",ce,t[0]||(t[0]=[(0,r.Fv)('<div class="footer-content" data-v-08bb6a16><div class="footer-logo" data-v-08bb6a16><h3 data-v-08bb6a16>ИП &quot;Белкин&quot;</h3></div><div class="footer-links" data-v-08bb6a16><a href="#" class="footer-link" data-v-08bb6a16>О компании</a><a href="#" class="footer-link" data-v-08bb6a16>Преимущества</a><a href="#" class="footer-link" data-v-08bb6a16>Отзывы</a><a href="#" class="footer-link" data-v-08bb6a16>Связаться с нами</a></div><div class="footer-contact" data-v-08bb6a16><p data-v-08bb6a16>+7 (777) 777-77-77</p><p data-v-08bb6a16>abcde@email.ru</p></div><div class="footer-contacts" data-v-08bb6a16><div class="social-icons" data-v-08bb6a16><a href="#" class="social-icon" data-v-08bb6a16><img src="/images/telegram.png" alt="Telegram" data-v-08bb6a16></a><a href="#" class="social-icon" data-v-08bb6a16><img src="/images/whatsapp.png" alt="WhatsApp" data-v-08bb6a16></a><a href="#" class="social-icon" data-v-08bb6a16><img src="/images/twitter.png" alt="Twitter" data-v-08bb6a16></a><a href="#" class="social-icon" data-v-08bb6a16><img src="/images/vk-logo.png" alt="VK" data-v-08bb6a16></a></div></div></div>',1)]))}var ue={name:"AppFooter"};const ve=(0,l.A)(ue,[["render",de],["__scopeId","data-v-08bb6a16"]]);var he=ve,me={name:"HomePage",components:{AppHeader:L,FormOne:S,FormTwo:q,FormThree:j,FormFour:Q,FormFive:le,AppFooter:he}};const ge=(0,l.A)(me,[["render",h],["__scopeId","data-v-6275196c"]]);var pe=ge;const be={class:"services-page"},fe={class:"services-content",ref:"content"};function ke(e,t,a,s,i,n){const o=(0,r.g2)("AppHeader"),l=(0,r.g2)("FormFive"),c=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",be,[(0,r.bF)(o),(0,r.Lk)("section",fe,t[0]||(t[0]=[(0,r.Fv)('<h1 data-v-6f05a1ac>Услуги компании <br data-v-6f05a1ac> ИП “Белкин”</h1><div class="text-box" data-v-6f05a1ac><div class="ride-text" data-v-6f05a1ac><h2 data-v-6f05a1ac>Специальная оценка <br data-v-6f05a1ac> условий труда</h2><p data-v-6f05a1ac> Специальная оценка условий труда является единым комплексом последовательно осуществляемых мероприятий по идентификации вредных и (или) опасных факторов производственной среды и трудового процесса и оценке уровня их воздействия на работника с учетом отклонения их фактических значений от установленных уполномоченным Правительством Российской Федерации федеральным органом исполнительной власти нормативов (гигиенических нормативов) условий труда и применения средств индивидуальной и коллективной защиты работников. </p></div><img src="/images/helmet.png" alt="Каска" class="helmet-image" data-v-6f05a1ac></div><div class="price-container" data-v-6f05a1ac><div class="price" data-v-6f05a1ac><h3 data-v-6f05a1ac>Периодичность проведения <br data-v-6f05a1ac> специальной оценки <br data-v-6f05a1ac> условий труда</h3><h1 class="big-text" data-v-6f05a1ac>НЕ РЕЖЕ, <br data-v-6f05a1ac> ЧЕМ 1 РАЗ <br data-v-6f05a1ac> В 5 ЛЕТ</h1></div><div class="left-price" data-v-6f05a1ac><h3 data-v-6f05a1ac>Штраф за нарушение требований охраны труда</h3><h4 data-v-6f05a1ac>Для юридических лиц:</h4><h1 class="big-text" data-v-6f05a1ac>60 - 70 тыс. руб.</h1><h4 data-v-6f05a1ac>Для физических лиц:</h4><h1 class="big-text" data-v-6f05a1ac>5 - 10 тыс. руб.</h1></div></div>',3)]),512),(0,r.bF)(l),(0,r.bF)(c)])}var we={name:"ServicesPage",components:{AppHeader:L,FormFive:le,AppFooter:he},mounted(){this.setupScrollAnimation()},methods:{setupScrollAnimation(){const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(this.animateElements(),e.unobserve(t.target))}))}),{threshold:.2});this.$nextTick((()=>{this.$refs.content&&e.observe(this.$refs.content)}))},animateElements(){const e=this.$refs.content.querySelectorAll("\n        h1, \n        .ride-text h2, \n        .ride-text p, \n        .helmet-image, \n        .price h3, \n        .price .big-text, \n        .left-price h3, \n        .left-price h4, \n        .left-price .big-text\n      ");e.forEach(((e,t)=>{e.style.opacity="0",e.style.transform="translateY(25px)",e.style.transition=`opacity 0.7s ease ${.12*t}s, transform 0.7s ease ${.12*t}s`,setTimeout((()=>{e.style.opacity="1",e.style.transform="translateY(0)"}),100+120*t)}))}}};const ye=(0,l.A)(we,[["render",ke],["__scopeId","data-v-6f05a1ac"]]);var Le=ye;const _e={class:"admin-login"},Fe={class:"login-form"},Re={class:"form-group"},Ee={class:"form-group"},Ae=["disabled"],Pe={key:0,class:"error"};function Ce(e,t,a,i,n,o){return(0,r.uX)(),(0,r.CE)("div",_e,[t[7]||(t[7]=(0,r.Lk)("h1",null,"Вход в админ-панель",-1)),(0,r.Lk)("div",Fe,[(0,r.Lk)("div",Re,[t[5]||(t[5]=(0,r.Lk)("label",{for:"username"},"Логин",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),placeholder:"Введите логин",onKeyup:t[1]||(t[1]=(0,s.jR)(((...e)=>o.login&&o.login(...e)),["enter"]))},null,544),[[s.Jo,n.username]])]),(0,r.Lk)("div",Ee,[t[6]||(t[6]=(0,r.Lk)("label",{for:"password"},"Пароль",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=e=>n.password=e),placeholder:"Введите пароль",onKeyup:t[3]||(t[3]=(0,s.jR)(((...e)=>o.login&&o.login(...e)),["enter"]))},null,544),[[s.Jo,n.password]])]),(0,r.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>o.login&&o.login(...e)),disabled:n.loading},(0,m.v_)(n.loading?"Вход...":"Войти"),9,Ae),n.errorMessage?((0,r.uX)(),(0,r.CE)("p",Pe,(0,m.v_)(n.errorMessage),1)):(0,r.Q3)("",!0)])])}a(4114);var xe={name:"AdminLogin",data(){return{username:"",password:"",loading:!1,errorMessage:"",backendPort:"http://212.192.127.152:9000"}},methods:{async login(){if(!this.username||!this.password)return void(this.errorMessage="Пожалуйста, заполните все поля");if(this.username.length<3||this.username.length>50)return void(this.errorMessage="Логин должен содержать от 3 до 50 символов");if(this.password.length<8)return void(this.errorMessage="Пароль должен содержать минимум 8 символов");const e=/^[a-zA-Z0-9_]+$/;if(e.test(this.username)){this.loading=!0,this.errorMessage="";try{const e=await Y.A.post("http://212.192.127.152:9000/user/",{login:this.username,password:this.password},{withCredentials:!0,timeout:1e4,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}});if(!e.data||"object"!==typeof e.data)throw new Error("Некорректный формат ответа сервера");console.log(e.data.token),e.data.token?(localStorage.setItem("authToken",e.data.token),this.username="",this.password="",await this.$router.push("/admin")):this.errorMessage=e.data.message||"Ошибка аутентификации: токен не получен"}catch(t){if(t.response){const e=t.response.status,a=t.response.data?.message||"Произошла ошибка на сервере";switch(e){case 400:this.errorMessage="Некорректный запрос. Проверьте данные и попробуйте снова";break;case 401:this.errorMessage="Неверный логин или пароль";break;case 403:this.errorMessage="Доступ запрещен";break;case 429:this.errorMessage="Слишком много попыток. Пожалуйста, подождите 5 минут";break;case 500:this.errorMessage="Внутренняя ошибка сервера. Попробуйте позже";break;default:this.errorMessage=a}}else t.request?this.errorMessage="Сервер недоступен. Проверьте подключение к интернету":"ECONNABORTED"===t.code?this.errorMessage="Время ожидания истекло. Попробуйте снова":this.errorMessage="Произошла неизвестная ошибка. Пожалуйста, попробуйте снова";console.error("Ошибка входа:",{message:t.message,code:t.code,response:t.response?{status:t.response.status,data:t.response.data}:null})}finally{this.loading=!1,this.password=""}}else this.errorMessage="Логин содержит недопустимые символы"}}};const Se=(0,l.A)(xe,[["render",Ce],["__scopeId","data-v-6ed6a073"]]);var Ie=Se;const Me={class:"admin-panel"},Te={class:"panel-header"},qe={class:"requests-section"},$e={key:0,class:"loading"},Xe={key:1,class:"error"},Oe={key:2},We={class:"requests-table"},Be=["onClick"],je={class:"pagination"},He=["disabled"],ze=["disabled"],De={class:"reviews-section"},Ve={class:"review-form"},Ke={class:"form-group"},Ue={class:"form-group"},Ye=["disabled"],Ne={key:0,class:"loading"},Je={key:1,class:"error"},Qe={key:2},Ze={class:"reviews-table"},Ge=["onClick"],et={class:"pagination"},tt=["disabled"],at=["disabled"];function st(e,t,a,i,n,o){return(0,r.uX)(),(0,r.CE)("div",Me,[(0,r.Lk)("header",Te,[t[8]||(t[8]=(0,r.Lk)("h1",null,"Админ-панель",-1)),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.logout&&o.logout(...e))},"Выйти")]),(0,r.Lk)("section",qe,[t[10]||(t[10]=(0,r.Lk)("h2",null,"Заявки с сайта",-1)),n.loading?((0,r.uX)(),(0,r.CE)("div",$e,"Загрузка...")):n.error?((0,r.uX)(),(0,r.CE)("div",Xe,(0,m.v_)(n.error),1)):((0,r.uX)(),(0,r.CE)("div",Oe,[(0,r.Lk)("table",We,[t[9]||(t[9]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Имя"),(0,r.Lk)("th",null,"Телефон"),(0,r.Lk)("th",null,"Email"),(0,r.Lk)("th",null,"Дата"),(0,r.Lk)("th",null,"Действия")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.sortedRequests,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,m.v_)(e.name),1),(0,r.Lk)("td",null,(0,m.v_)(e.phone_number),1),(0,r.Lk)("td",null,(0,m.v_)(e.email),1),(0,r.Lk)("td",null,(0,m.v_)(o.formatDate(e.created_at)),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{class:"delete-btn",onClick:t=>o.deleteRequest(e.id)},"Удалить",8,Be)])])))),128))])]),(0,r.Lk)("div",je,[(0,r.Lk)("button",{disabled:1===n.currentPage,onClick:t[1]||(t[1]=e=>n.currentPage--)},"Назад",8,He),(0,r.Lk)("span",null,"Страница "+(0,m.v_)(n.currentPage)+" из "+(0,m.v_)(o.totalPages),1),(0,r.Lk)("button",{disabled:n.currentPage===o.totalPages,onClick:t[2]||(t[2]=e=>n.currentPage++)},"Вперёд",8,ze)])]))]),(0,r.Lk)("section",De,[t[14]||(t[14]=(0,r.Lk)("h2",null,"Управление отзывами",-1)),(0,r.Lk)("div",Ve,[(0,r.Lk)("div",Ke,[t[11]||(t[11]=(0,r.Lk)("label",{for:"review-text"},"Текст отзыва",-1)),(0,r.bo)((0,r.Lk)("textarea",{id:"review-text","onUpdate:modelValue":t[3]||(t[3]=e=>n.newReview.text=e),placeholder:"Введите текст отзыва"},null,512),[[s.Jo,n.newReview.text]])]),(0,r.Lk)("div",Ue,[t[12]||(t[12]=(0,r.Lk)("label",{for:"review-author"},"Автор",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"review-author","onUpdate:modelValue":t[4]||(t[4]=e=>n.newReview.name=e),placeholder:"Введите имя автора"},null,512),[[s.Jo,n.newReview.name]])]),(0,r.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>o.addReview&&o.addReview(...e)),disabled:n.adding},"Добавить отзыв",8,Ye)]),n.loadingReviews?((0,r.uX)(),(0,r.CE)("div",Ne,"Загрузка отзывов...")):n.reviewError?((0,r.uX)(),(0,r.CE)("div",Je,(0,m.v_)(n.reviewError),1)):((0,r.uX)(),(0,r.CE)("div",Qe,[(0,r.Lk)("table",Ze,[t[13]||(t[13]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Текст"),(0,r.Lk)("th",null,"Автор"),(0,r.Lk)("th",null,"Дата"),(0,r.Lk)("th",null,"Действия")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.paginatedReviews,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,m.v_)(e.text),1),(0,r.Lk)("td",null,(0,m.v_)(e.name),1),(0,r.Lk)("td",null,(0,m.v_)(o.formatDate(e.createdAt)),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{class:"delete-btn",onClick:t=>o.deleteReview(e.id)},"Удалить",8,Ge)])])))),128))])]),(0,r.Lk)("div",et,[(0,r.Lk)("button",{disabled:1===n.currentReviewPage,onClick:t[6]||(t[6]=e=>n.currentReviewPage--)},"Назад",8,tt),(0,r.Lk)("span",null,"Страница "+(0,m.v_)(n.currentReviewPage)+" из "+(0,m.v_)(o.totalReviewPages),1),(0,r.Lk)("button",{disabled:n.currentReviewPage===o.totalReviewPages,onClick:t[7]||(t[7]=e=>n.currentReviewPage++)},"Вперёд",8,at)])]))])])}a(2489);var rt={name:"AdminPanel",data(){return{requests:[],reviews:[],loading:!1,loadingReviews:!1,error:"",reviewError:"",currentPage:1,currentReviewPage:1,itemsPerPage:5,reviewItemsPerPage:3,newReview:{text:"",name:""},adding:!1,editingReview:null,backendPort:"http://212.192.127.152:9000"}},computed:{sortedRequests(){return[...this.requests].sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at)))},paginatedRequests(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.requests.slice(e,t)},totalPages(){return Math.ceil(this.requests.length/this.itemsPerPage)},paginatedReviews(){const e=(this.currentReviewPage-1)*this.reviewItemsPerPage,t=e+this.reviewItemsPerPage;return this.reviews.slice(e,t)},totalReviewPages(){return Math.ceil(this.reviews.length/this.reviewItemsPerPage)}},watch:{currentPage(){this.fetchRequests()},currentReviewPage(){this.fetchReviews()}},methods:{async fetchRequests(){this.loading=!0,this.error="";try{const e=localStorage.getItem("authToken"),t=await Y.A.get("http://212.192.127.152:9000/data/",{headers:{Authorization:`Bearer ${e}`},params:{_page:this.currentPage,_limit:this.itemsPerPage},withCredentials:!0});this.requests=t.data,console.log(this.requests)}catch(e){e.response&&401===e.response.status?this.logout():(this.error="Ошибка при загрузке заявок. Попробуйте снова.",console.error("Fetch requests error:",e))}finally{this.loading=!1}},async fetchReviews(){this.loadingReviews=!0,this.reviewError="";try{const e=localStorage.getItem("authToken"),t=await Y.A.get("http://212.192.127.152:9000/reviews",{headers:{Authorization:`Bearer ${e}`},params:{_page:this.currentReviewPage,_limit:this.reviewItemsPerPage}});this.reviews=t.data}catch(e){this.reviewError="Ошибка при загрузке отзывов. Попробуйте снова.",console.error("Fetch reviews error:",e)}finally{this.loadingReviews=!1}},async addReview(){if(this.newReview.text.trim()&&this.newReview.name.trim()){this.adding=!0;try{const e=localStorage.getItem("authToken"),t=await Y.A.post("http://212.192.127.152:9000/reviews",this.newReview,{headers:{Authorization:`Bearer ${e}`}});this.reviews.push(t.data),this.newReview={text:"",name:""},this.reviewError=""}catch(e){this.reviewError="Ошибка при добавлении отзыва.",console.error("Add review error:",e)}finally{this.adding=!1}}else this.reviewError="Заполните все поля"},editReview(e){this.editingReview={...e}},async saveReview(){if(this.editingReview.text.trim()&&this.editingReview.name.trim())try{const e=localStorage.getItem("authToken");await Y.A.put(`http://212.192.127.152:9000/reviews/${this.editingReview.id}`,this.editingReview,{headers:{Authorization:`Bearer ${e}`}});const t=this.reviews.findIndex((e=>e.id===this.editingReview.id));-1!==t&&this.reviews.splice(t,1,this.editingReview),this.editingReview=null,this.reviewError=""}catch(e){this.reviewError="Ошибка при сохранении отзыва.",console.error("Save review error:",e)}else this.reviewError="Заполните все поля"},async deleteReview(e){if(confirm("Вы уверены, что хотите удалить этот отзыв?"))try{const t=localStorage.getItem("authToken");await Y.A.delete(`http://212.192.127.152:9000/reviews/${e}`,{headers:{Authorization:`Bearer ${t}`}}),this.reviews=this.reviews.filter((t=>t.id!==e))}catch(t){this.reviewError="Ошибка при удалении отзыва.",console.error("Delete review error:",t)}},async deleteRequest(e){if(confirm("Вы уверены, что хотите удалить эту заявку?"))try{const t=localStorage.getItem("authToken");await Y.A.delete(`http://212.192.127.152:9000/data/${e}`,{headers:{Authorization:`Bearer ${t}`}}),this.requests=this.requests.filter((t=>t.id!==e))}catch(t){this.error="Ошибка при удалении заявки.",console.error("Delete request error:",t)}},formatDate(e){const t=new Date(e);return t.toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},logout(){localStorage.removeItem("authToken"),this.$router.push("/admin/login")}},mounted(){this.fetchRequests(),this.fetchReviews()}};const it=(0,l.A)(rt,[["render",st],["__scopeId","data-v-4d3399d7"]]);var nt=it;const ot=()=>!!localStorage.getItem("authToken"),lt=[{path:"/",name:"Home",component:pe},{path:"/services",name:"Services",component:Le},{path:"/admin/login",name:"AdminLogin",component:Ie},{path:"/admin",name:"AdminPanel",component:nt,beforeEnter:(e,t,a)=>{ot()?a():a("/admin/login")}}],ct=(0,u.aE)({history:(0,u.Bt)(),routes:lt});var dt=ct;const ut=(0,s.Ef)(d);ut.use(dt),ut.mount("#app")}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,i){if(!s){var n=1/0;for(d=0;d<e.length;d++){s=e[d][0],r=e[d][1],i=e[d][2];for(var o=!0,l=0;l<s.length;l++)(!1&i||n>=i)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(o=!1,i<n&&(n=i));if(o){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,r,i]}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,i,n=s[0],o=s[1],l=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var d=l(a)}for(t&&t(s);c<n.length;c++)i=n[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},s=self["webpackChunksite_marina"]=self["webpackChunksite_marina"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(8247)}));s=a.O(s)})();
//# sourceMappingURL=app.f84a1e5a.js.map