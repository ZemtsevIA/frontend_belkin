(function(){"use strict";var e={7750:function(e,t,s){var a=s(3751),r=s(641);const n={id:"app"};function i(e,t,s,a,i,o){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.bF)(l)])}var o={name:"App"},l=s(6262);const c=(0,l.A)(o,[["render",i]]);var d=c,u=s(5220);const h={id:"app"};function v(e,t,s,a,n,i){const o=(0,r.g2)("AppHeader"),l=(0,r.g2)("FormOne"),c=(0,r.g2)("FormTwo"),d=(0,r.g2)("FormThree"),u=(0,r.g2)("FormFour"),v=(0,r.g2)("FormFive"),m=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",h,[(0,r.bF)(o),(0,r.bF)(l),(0,r.bF)(c),(0,r.bF)(d),(0,r.bF)(u),(0,r.bF)(v),(0,r.bF)(m)])}var m=s(33);const p={class:"header"},g={class:"header-top"},f={class:"nav nav-desktop"},b={class:"nav nav-menu-mobile"};function k(e,t,s,n,i,o){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("header",p,[(0,r.Lk)("div",g,[(0,r.bF)(l,{to:"/",class:"logo"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)('ИП "Белкин"')]))),_:1,__:[1]}),(0,r.Lk)("button",{class:"menu-toggle",onClick:t[0]||(t[0]=(...e)=>o.toggleMenu&&o.toggleMenu(...e))},(0,m.v_)(i.isMenuOpen?"✖":"☰"),1),(0,r.Lk)("nav",f,[(0,r.bF)(l,{to:"/services",class:"nav-link"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.eW)("Услуги")]))),_:1,__:[2]}),(0,r.bF)(l,{to:"/pricing",class:"nav-link"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("Прейскурант")]))),_:1,__:[3]}),(0,r.bF)(l,{to:"/reviews",class:"nav-link"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("Отзывы")]))),_:1,__:[4]}),(0,r.bF)(l,{to:"/contacts",class:"nav-link"},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)("Контакты")]))),_:1,__:[5]})])]),(0,r.bF)(a.eB,{name:"slide-down"},{default:(0,r.k6)((()=>[(0,r.bo)((0,r.Lk)("nav",b,[(0,r.bF)(l,{to:"/services",class:"nav-link"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)("Услуги")]))),_:1,__:[6]}),(0,r.bF)(l,{to:"/pricing",class:"nav-link"},{default:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.eW)("Прейскурант")]))),_:1,__:[7]}),(0,r.bF)(l,{to:"/reviews",class:"nav-link"},{default:(0,r.k6)((()=>t[8]||(t[8]=[(0,r.eW)("Отзывы")]))),_:1,__:[8]}),(0,r.bF)(l,{to:"/contacts",class:"nav-link"},{default:(0,r.k6)((()=>t[9]||(t[9]=[(0,r.eW)("Контакты")]))),_:1,__:[9]})],512),[[a.aG,i.isMenuOpen]])])),_:1})])}var w={name:"AppHeader",data(){return{isMenuOpen:!1}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen}}};const L=(0,l.A)(w,[["render",k],["__scopeId","data-v-5fe46ab4"]]);var y=L;const _={class:"form1"},F={class:"image-container"},P=["src"],E={class:"hero-text"},R=["src"];function A(e,t,s,a,n,i){return(0,r.uX)(),(0,r.CE)("section",_,[(0,r.Lk)("div",F,[(0,r.Lk)("img",{class:"image",src:`${n.publicPath}images/image_145.png`,alt:"Hero image"},null,8,P),t[1]||(t[1]=(0,r.Fv)('<div class="blur-strip strip-1" data-v-3ff1a8b8></div><div class="blur-strip strip-2" data-v-3ff1a8b8></div><div class="blur-strip strip-3" data-v-3ff1a8b8></div><div class="blur-strip strip-4" data-v-3ff1a8b8></div><div class="blur-strip strip-5" data-v-3ff1a8b8></div><div class="blur-strip strip-6" data-v-3ff1a8b8></div>',6))]),(0,r.Lk)("div",E,[t[2]||(t[2]=(0,r.Lk)("h1",null,[(0,r.eW)("СПЕЦИАЛЬНАЯ ОЦЕНКА "),(0,r.Lk)("br"),(0,r.eW)(" УСЛОВИЙ ТРУДА")],-1)),t[3]||(t[3]=(0,r.Lk)("p",null,"ИП “Белкин” - это надежная компания по оценке условий труда",-1)),t[4]||(t[4]=(0,r.Lk)("button",{class:"hero-button"},"Подробнее о компании",-1)),(0,r.Lk)("img",{class:"angle",src:`${n.publicPath}images/angle.png`,alt:"Стрелочка",onClick:t[0]||(t[0]=(...e)=>i.scrollToNextSection&&i.scrollToNextSection(...e))},null,8,R)])])}var C={name:"FormOne",data(){return{publicPath:"/frontend_belkin/"}},methods:{scrollToNextSection(){const e=document.querySelector(".form2");e&&e.scrollIntoView({behavior:"smooth"})}}};const S=(0,l.A)(C,[["render",A],["__scopeId","data-v-3ff1a8b8"]]);var $=S;const x={ref:"form2Section",class:"form2"},I={class:"collage"},M=["src"],T=["src"],q={ref:"form3Section",class:"form3"},X={class:"benefits"},O={class:"benefit-item"},W={class:"benefit-icon-background"},B=["src"],j={class:"benefit-item"},H={class:"benefit-icon-background"},z=["src"],D={class:"benefit-item"},Y={class:"benefit-icon-background"},K=["src"];function V(e,t,s,a,n,i){return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("section",x,[(0,r.Lk)("div",I,[(0,r.Lk)("img",{src:`${n.publicPath}images/Rectangle 95.png`,alt:"Safety helmet"},null,8,M),(0,r.Lk)("img",{src:`${n.publicPath}images/Rectangle 96.png`,alt:"Safety gloves"},null,8,T)]),t[0]||(t[0]=(0,r.Lk)("div",{class:"ride"},[(0,r.Lk)("div",{class:"ride-text"},[(0,r.Lk)("h2",null,'ИП "Белкин" - это надежный партнер в оценке условий труда'),(0,r.Lk)("p",null," Мы предоставляем услуги по проведению специальной оценки условий труда и оформлению документов по охране труда для вашего предприятия "),(0,r.Lk)("button",{class:"detalis-button"},"Узнать больше")])],-1))],512),(0,r.Lk)("section",q,[t[7]||(t[7]=(0,r.Lk)("h2",null,'Преимущества сотрудничества с ИП "Белкин"',-1)),(0,r.Lk)("div",X,[(0,r.Lk)("div",O,[(0,r.Lk)("div",W,[(0,r.Lk)("img",{src:`${n.publicPath}images/fire-icon.png`,alt:"Fire icon",class:"benefit-icon"},null,8,B)]),t[1]||(t[1]=(0,r.Lk)("h3",null,[(0,r.eW)("Опыт и "),(0,r.Lk)("br"),(0,r.eW)(" надежность")],-1)),t[2]||(t[2]=(0,r.Lk)("p",null,"Компании обладает многолетним опытом в сфере охраны труда, что делает нас надежным партнером.",-1))]),(0,r.Lk)("div",j,[(0,r.Lk)("div",H,[(0,r.Lk)("img",{src:`${n.publicPath}images/thumbs-up-icon.png`,alt:"Thumbs up icon",class:"benefit-icon"},null,8,z)]),t[3]||(t[3]=(0,r.Lk)("h3",null,"Индивидуальный подход",-1)),t[4]||(t[4]=(0,r.Lk)("p",null,"Каждому клиенту мы предлагаем решение, разработанное под его задачи и потребности.",-1))]),(0,r.Lk)("div",D,[(0,r.Lk)("div",Y,[(0,r.Lk)("img",{src:`${n.publicPath}images/bolt-icon.png`,alt:"Bolt icon",class:"benefit-icon"},null,8,K)]),t[5]||(t[5]=(0,r.Lk)("h3",null,"Профессиональный коллектив",-1)),t[6]||(t[6]=(0,r.Lk)("p",null,"Наши специалисты постоянно повышают свои квалификации, чтобы предоставлять качественные услуги.",-1))])])],512)],64)}s(8111),s(7588);var U={name:"FormTwo",mounted(){this.setupScrollAnimations()},data(){return{publicPath:"/frontend_belkin/"}},methods:{setupScrollAnimations(){const e={threshold:.3},t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(this.animateForm2Elements(),t.unobserve(e.target))}))}),e),s=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(this.animateForm3Elements(),s.unobserve(e.target))}))}),e);this.$nextTick((()=>{this.$refs.form2Section&&t.observe(this.$refs.form2Section),this.$refs.form3Section&&s.observe(this.$refs.form3Section)}))},animateForm2Elements(){const e=document.querySelectorAll(".ride-text h2, .ride-text p, .detalis-button");e.forEach(((e,t)=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition=`opacity 0.6s ease ${.15*t}s, transform 0.6s ease ${.15*t}s`,setTimeout((()=>{e.style.opacity="1",e.style.transform="translateY(0)"}),100+150*t)}))},animateForm3Elements(){const e=document.querySelectorAll(".form3 h2, .benefit-item");e.forEach(((e,t)=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition=`opacity 0.6s ease ${.15*t}s, transform 0.6s ease ${.15*t}s`,setTimeout((()=>{e.style.opacity="1",e.style.transform="translateY(0)"}),100+150*t)}))}}};const N=(0,l.A)(U,[["render",V],["__scopeId","data-v-022ff1d0"]]);var J=N;const Q={class:"form3"},Z=["src"],G={class:"banner-content",ref:"content"};function ee(e,t,s,a,n,i){return(0,r.uX)(),(0,r.CE)("section",Q,[(0,r.Lk)("div",{class:"banner",onMousemove:t[0]||(t[0]=(...e)=>i.handleMouseMove&&i.handleMouseMove(...e))},[(0,r.Lk)("img",{src:`${n.publicPath}images/banner-bg.png`,alt:"Banner background",class:"banner-image"},null,8,Z),(0,r.Lk)("div",G,t[1]||(t[1]=[(0,r.Lk)("h2",null,[(0,r.eW)("СПЕЦИАЛЬНАЯ ОЦЕНКА "),(0,r.Lk)("br"),(0,r.eW)(" УСЛОВИЙ ТРУДА")],-1),(0,r.Lk)("p",null,"Профессиональное оформление документов",-1),(0,r.Lk)("button",{class:"banner-button"},"Связаться с нами",-1)]),512)],32)])}var te={name:"FormThree",mounted(){this.setupScrollAnimation()},data(){return{publicPath:"/frontend_belkin/"}},methods:{setupScrollAnimation(){const e=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const s=t.target.querySelector(".banner-content");s.style.transition="opacity 0.8s ease, transform 0.8s ease",s.style.opacity="1",s.style.transform="translateY(0)",e.unobserve(t.target)}}))}),{threshold:.3});this.$nextTick((()=>e.observe(this.$el)))},handleMouseMove(e){const t=e.currentTarget,s=t.getBoundingClientRect(),a=e.clientX-s.left,r=e.clientY-s.top,n=20*(a/s.width-.5),i=20*(r/s.height-.5);t.querySelector(".banner-image").style.transform=`translate(${n}px, ${i}px) scale(1.05)`}}};const se=(0,l.A)(te,[["render",ee],["__scopeId","data-v-be6ec550"]]);var ae=se;const re={class:"form4"},ne={key:0,class:"reviews"},ie=["data-index"],oe=["src"],le={class:"author"},ce={key:1,class:"loading"};function de(e,t,s,a,n,i){return(0,r.uX)(),(0,r.CE)("section",re,[t[0]||(t[0]=(0,r.Lk)("h2",null,"Отзывы клиентов",-1)),t[1]||(t[1]=(0,r.Lk)("p",{class:"subtitle"},"Доверие, подтвержденное результатами",-1)),n.reviews.length?((0,r.uX)(),(0,r.CE)("div",ne,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.reviews.slice(0,3),((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"review-card",key:e.id,"data-index":t},[(0,r.Lk)("img",{src:`${n.publicPath}images/review-icon.png`,alt:"Review icon",class:"review-icon"},null,8,oe),(0,r.Lk)("p",null,(0,m.v_)(e.text),1),(0,r.Lk)("p",le,(0,m.v_)(e.name),1)],8,ie)))),128))])):((0,r.uX)(),(0,r.CE)("div",ce,"Загрузка отзывов..."))])}var ue=s(4335),he={name:"FormFour",data(){return{reviews:[],publicPath:"/frontend_belkin/"}},async mounted(){await this.fetchReviews(),this.$nextTick((()=>this.setupScrollAnimation()))},methods:{async fetchReviews(){try{const e=await ue.A.get("http://212.192.127.152:9000/reviews/",{params:{_limit:3}});this.reviews=e.data}catch(e){console.error("Ошибка при загрузке отзывов:",e)}},setupScrollAnimation(){const e=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const s=t.target.querySelectorAll(".review-card");s.forEach(((e,t)=>{setTimeout((()=>{e.classList.add("visible")}),200*t)})),e.unobserve(t.target)}}))}),{threshold:.3});this.$nextTick((()=>e.observe(this.$el)))}}};const ve=(0,l.A)(he,[["render",de],["__scopeId","data-v-06fd6ee3"]]);var me=ve;const pe={class:"form5"},ge={class:"contact-banner"},fe=["src"],be={class:"contact-content"},ke={class:"contact-info"},we=["type","placeholder","onUpdate:modelValue","onFocus","onBlur"],Le={key:0,class:"error-message"},ye=["disabled"];function _e(e,t,s,n,i,o){return(0,r.uX)(),(0,r.CE)("section",pe,[(0,r.Lk)("div",ge,[(0,r.Lk)("img",{src:`${i.publicPath}images/contact-bg.png`,alt:"Contact background",class:"contact-image"},null,8,fe),(0,r.Lk)("div",be,[t[3]||(t[3]=(0,r.Lk)("h2",null,[(0,r.eW)("Оцените условия труда "),(0,r.Lk)("br"),(0,r.eW)(" в вашей компании")],-1)),t[4]||(t[4]=(0,r.Lk)("p",null,"Оставьте заявку и мы свяжемся с вами",-1)),(0,r.Lk)("div",ke,[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(["name","phone","email"],((e,t)=>(0,r.Lk)("div",{class:"contact-item",key:t},[(0,r.bo)((0,r.Lk)("input",{type:"phone"===t?"tel":t,placeholder:"name"===t?"Имя":"phone"===t?"+7 (777) 777-77-77":"Почта","onUpdate:modelValue":e=>i.form[t]=e,class:(0,m.C4)({error:i.errors[t]}),onFocus:e=>o.onFocus(t),onBlur:e=>o.onBlur(t)},null,42,we),[[a.hp,i.form[t]]]),i.errors[t]?((0,r.uX)(),(0,r.CE)("span",Le,(0,m.v_)(i.errors[t]),1)):(0,r.Q3)("",!0)]))),64)),(0,r.Lk)("button",{class:"contact-button",onClick:t[0]||(t[0]=(...e)=>o.submitForm&&o.submitForm(...e)),disabled:i.isSubmitting,onMouseenter:t[1]||(t[1]=e=>i.buttonHover=!0),onMouseleave:t[2]||(t[2]=e=>i.buttonHover=!1)},[(0,r.Lk)("span",{class:(0,m.C4)({sending:i.isSubmitting})},(0,m.v_)(i.isSubmitting?"Отправка...":"Получить консультацию"),3)],40,ye)])])])])}var Fe={name:"FormFive",data(){return{form:{name:"",phone:"",email:""},errors:{name:"",phone:"",email:""},isSubmitting:!1,buttonHover:!1,publicPath:"/frontend_belkin/"}},mounted(){this.setupScrollAnimation()},methods:{setupScrollAnimation(){const e=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const s=t.target.querySelector(".contact-content");s.style.transition="all 0.9s ease-out",s.style.opacity="1",s.style.transform="translateY(0)",e.unobserve(t.target)}}))}),{threshold:.3});this.$nextTick((()=>e.observe(this.$el)))},onFocus(e){this.focusedField=e},onBlur(){this.focusedField=null},sanitizeInput(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML},validateForm(){this.errors={name:"",phone:"",email:""};let e=!0;const t=/^[a-zA-Zа-яА-Я\s-]{2,50}$/;this.form.name.trim()?t.test(this.form.name.trim())||(this.errors.name="Имя: 2–50 букв",e=!1):(this.errors.name="Введите имя",e=!1);const s=/^\+?\d{10,15}$/;this.form.phone.trim()?s.test(this.form.phone.replace(/\D/g,""))||(this.errors.phone="Некорректный номер",e=!1):(this.errors.phone="Введите телефон",e=!1);const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return this.form.email.trim()?a.test(this.form.email)||(this.errors.email="Некорректный email",e=!1):(this.errors.email="Введите email",e=!1),e},async submitForm(){if(!this.validateForm())return;this.isSubmitting=!0;const e={name:this.sanitizeInput(this.form.name.trim()),phone_number:this.sanitizeInput(this.form.phone.trim()),email:this.sanitizeInput(this.form.email.trim())};try{const t=await fetch("http://212.192.127.152:9000/data/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Ошибка отправки");alert("Заявка отправлена!"),this.form={name:"",phone:"",email:""}}catch(t){alert("Ошибка: "+t.message)}finally{this.isSubmitting=!1}}}};const Pe=(0,l.A)(Fe,[["render",_e],["__scopeId","data-v-80d1889e"]]);var Ee=Pe;const Re={class:"footer"};function Ae(e,t,s,a,n,i){return(0,r.uX)(),(0,r.CE)("footer",Re,t[0]||(t[0]=[(0,r.Fv)('<div class="footer-content" data-v-16bf66af><div class="footer-logo" data-v-16bf66af><h3 data-v-16bf66af>ИП &quot;Белкин&quot;</h3></div><div class="footer-links" data-v-16bf66af><a href="#" class="footer-link" data-v-16bf66af>О компании</a><a href="#" class="footer-link" data-v-16bf66af>Преимущества</a><a href="#" class="footer-link" data-v-16bf66af>Отзывы</a><a href="#" class="footer-link" data-v-16bf66af>Связаться с нами</a></div><div class="footer-contact" data-v-16bf66af><p data-v-16bf66af>+7 (777) 777-77-77</p><p data-v-16bf66af>abcde@email.ru</p></div><div class="footer-contacts" data-v-16bf66af><div class="social-icons" data-v-16bf66af><a href="#" class="social-icon" data-v-16bf66af><img src="`${publicPath}/images/telegram.png`" alt="Telegram" data-v-16bf66af></a><a href="#" class="social-icon" data-v-16bf66af><img src="`${publicPath}/images/whatsapp.png`" alt="WhatsApp" data-v-16bf66af></a><a href="#" class="social-icon" data-v-16bf66af><img src="`${publicPath}/frontend/public/images/twitter.png`" alt="Twitter" class="csc" data-v-16bf66af></a><a href="#" class="social-icon" data-v-16bf66af><img src="`${publicPath}/images/vk-logo.png`" alt="VK" data-v-16bf66af></a></div></div></div>',1)]))}var Ce={name:"AppFooter"};const Se=(0,l.A)(Ce,[["render",Ae],["__scopeId","data-v-16bf66af"]]);var $e=Se,xe={name:"HomePage",components:{AppHeader:y,FormOne:$,FormTwo:J,FormThree:ae,FormFour:me,FormFive:Ee,AppFooter:$e}};const Ie=(0,l.A)(xe,[["render",v],["__scopeId","data-v-6275196c"]]);var Me=Ie;const Te={class:"services-page"},qe={class:"services-content",ref:"content"},Xe={class:"text-box"},Oe=["src"];function We(e,t,s,a,n,i){const o=(0,r.g2)("AppHeader"),l=(0,r.g2)("FormFive"),c=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",Te,[(0,r.bF)(o),(0,r.Lk)("section",qe,[t[1]||(t[1]=(0,r.Lk)("h1",null,[(0,r.eW)("Услуги компании "),(0,r.Lk)("br"),(0,r.eW)(" ИП “Белкин”")],-1)),(0,r.Lk)("div",Xe,[t[0]||(t[0]=(0,r.Lk)("div",{class:"ride-text"},[(0,r.Lk)("h2",null,[(0,r.eW)("Специальная оценка "),(0,r.Lk)("br"),(0,r.eW)(" условий труда")]),(0,r.Lk)("p",null," Специальная оценка условий труда является единым комплексом последовательно осуществляемых мероприятий по идентификации вредных и (или) опасных факторов производственной среды и трудового процесса и оценке уровня их воздействия на работника с учетом отклонения их фактических значений от установленных уполномоченным Правительством Российской Федерации федеральным органом исполнительной власти нормативов (гигиенических нормативов) условий труда и применения средств индивидуальной и коллективной защиты работников. ")],-1)),(0,r.Lk)("img",{src:`${n.publicPath}images/helmet.png`,alt:"Каска",class:"helmet-image"},null,8,Oe)]),t[2]||(t[2]=(0,r.Fv)('<div class="price-container" data-v-1e17e931><div class="price" data-v-1e17e931><h3 data-v-1e17e931>Периодичность проведения <br data-v-1e17e931> специальной оценки <br data-v-1e17e931> условий труда</h3><h1 class="big-text" data-v-1e17e931>НЕ РЕЖЕ, <br data-v-1e17e931> ЧЕМ 1 РАЗ <br data-v-1e17e931> В 5 ЛЕТ</h1></div><div class="left-price" data-v-1e17e931><h3 data-v-1e17e931>Штраф за нарушение требований охраны труда</h3><h4 data-v-1e17e931>Для юридических лиц:</h4><h1 class="big-text" data-v-1e17e931>60 - 70 тыс. руб.</h1><h4 data-v-1e17e931>Для физических лиц:</h4><h1 class="big-text" data-v-1e17e931>5 - 10 тыс. руб.</h1></div></div>',1))],512),(0,r.bF)(l),(0,r.bF)(c)])}var Be={name:"ServicesPage",components:{AppHeader:y,FormFive:Ee,AppFooter:$e},data(){return{publicPath:"/frontend_belkin/"}},mounted(){this.setupScrollAnimation()},methods:{setupScrollAnimation(){const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(this.animateElements(),e.unobserve(t.target))}))}),{threshold:.2});this.$nextTick((()=>{this.$refs.content&&e.observe(this.$refs.content)}))},animateElements(){const e=this.$refs.content.querySelectorAll("\n        h1, \n        .ride-text h2, \n        .ride-text p, \n        .helmet-image, \n        .price h3, \n        .price .big-text, \n        .left-price h3, \n        .left-price h4, \n        .left-price .big-text\n      ");e.forEach(((e,t)=>{e.style.opacity="0",e.style.transform="translateY(25px)",e.style.transition=`opacity 0.7s ease ${.12*t}s, transform 0.7s ease ${.12*t}s`,setTimeout((()=>{e.style.opacity="1",e.style.transform="translateY(0)"}),100+120*t)}))}}};const je=(0,l.A)(Be,[["render",We],["__scopeId","data-v-1e17e931"]]);var He=je;const ze={class:"admin-login"},De={class:"login-form"},Ye={class:"form-group"},Ke={class:"form-group"},Ve=["disabled"],Ue={key:0,class:"error"};function Ne(e,t,s,n,i,o){return(0,r.uX)(),(0,r.CE)("div",ze,[t[7]||(t[7]=(0,r.Lk)("h1",null,"Вход в админ-панель",-1)),(0,r.Lk)("div",De,[(0,r.Lk)("div",Ye,[t[5]||(t[5]=(0,r.Lk)("label",{for:"username"},"Логин",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e),placeholder:"Введите логин",onKeyup:t[1]||(t[1]=(0,a.jR)(((...e)=>o.login&&o.login(...e)),["enter"]))},null,544),[[a.Jo,i.username]])]),(0,r.Lk)("div",Ke,[t[6]||(t[6]=(0,r.Lk)("label",{for:"password"},"Пароль",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=e=>i.password=e),placeholder:"Введите пароль",onKeyup:t[3]||(t[3]=(0,a.jR)(((...e)=>o.login&&o.login(...e)),["enter"]))},null,544),[[a.Jo,i.password]])]),(0,r.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>o.login&&o.login(...e)),disabled:i.loading},(0,m.v_)(i.loading?"Вход...":"Войти"),9,Ve),i.errorMessage?((0,r.uX)(),(0,r.CE)("p",Ue,(0,m.v_)(i.errorMessage),1)):(0,r.Q3)("",!0)])])}s(4114);var Je={name:"AdminLogin",data(){return{username:"",password:"",loading:!1,errorMessage:"",backendPort:"http://212.192.127.152:9000"}},methods:{async login(){if(!this.username||!this.password)return void(this.errorMessage="Пожалуйста, заполните все поля");if(this.username.length<3||this.username.length>50)return void(this.errorMessage="Логин должен содержать от 3 до 50 символов");if(this.password.length<8)return void(this.errorMessage="Пароль должен содержать минимум 8 символов");const e=/^[a-zA-Z0-9_]+$/;if(e.test(this.username)){this.loading=!0,this.errorMessage="";try{const e=await ue.A.post("http://212.192.127.152:9000/user/",{login:this.username,password:this.password},{withCredentials:!0,timeout:1e4,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}});if(!e.data||"object"!==typeof e.data)throw new Error("Некорректный формат ответа сервера");console.log(e.data.token),e.data.token?(localStorage.setItem("authToken",e.data.token),this.username="",this.password="",await this.$router.push("/admin")):this.errorMessage=e.data.message||"Ошибка аутентификации: токен не получен"}catch(t){if(t.response){const e=t.response.status,s=t.response.data?.message||"Произошла ошибка на сервере";switch(e){case 400:this.errorMessage="Некорректный запрос. Проверьте данные и попробуйте снова";break;case 401:this.errorMessage="Неверный логин или пароль";break;case 403:this.errorMessage="Доступ запрещен";break;case 429:this.errorMessage="Слишком много попыток. Пожалуйста, подождите 5 минут";break;case 500:this.errorMessage="Внутренняя ошибка сервера. Попробуйте позже";break;default:this.errorMessage=s}}else t.request?this.errorMessage="Сервер недоступен. Проверьте подключение к интернету":"ECONNABORTED"===t.code?this.errorMessage="Время ожидания истекло. Попробуйте снова":this.errorMessage="Произошла неизвестная ошибка. Пожалуйста, попробуйте снова";console.error("Ошибка входа:",{message:t.message,code:t.code,response:t.response?{status:t.response.status,data:t.response.data}:null})}finally{this.loading=!1,this.password=""}}else this.errorMessage="Логин содержит недопустимые символы"}}};const Qe=(0,l.A)(Je,[["render",Ne],["__scopeId","data-v-6ed6a073"]]);var Ze=Qe;const Ge={class:"admin-panel"},et={class:"panel-header"},tt={class:"requests-section"},st={key:0,class:"loading"},at={key:1,class:"error"},rt={key:2},nt={class:"requests-table"},it=["onClick"],ot={class:"pagination"},lt=["disabled"],ct=["disabled"],dt={class:"reviews-section"},ut={class:"review-form"},ht={class:"form-group"},vt={class:"form-group"},mt=["disabled"],pt={key:0,class:"loading"},gt={key:1,class:"error"},ft={key:2},bt={class:"reviews-table"},kt=["onClick"],wt={class:"pagination"},Lt=["disabled"],yt=["disabled"];function _t(e,t,s,n,i,o){return(0,r.uX)(),(0,r.CE)("div",Ge,[(0,r.Lk)("header",et,[t[8]||(t[8]=(0,r.Lk)("h1",null,"Админ-панель",-1)),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.logout&&o.logout(...e))},"Выйти")]),(0,r.Lk)("section",tt,[t[10]||(t[10]=(0,r.Lk)("h2",null,"Заявки с сайта",-1)),i.loading?((0,r.uX)(),(0,r.CE)("div",st,"Загрузка...")):i.error?((0,r.uX)(),(0,r.CE)("div",at,(0,m.v_)(i.error),1)):((0,r.uX)(),(0,r.CE)("div",rt,[(0,r.Lk)("table",nt,[t[9]||(t[9]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Имя"),(0,r.Lk)("th",null,"Телефон"),(0,r.Lk)("th",null,"Email"),(0,r.Lk)("th",null,"Дата"),(0,r.Lk)("th",null,"Действия")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.sortedRequests,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,m.v_)(e.name),1),(0,r.Lk)("td",null,(0,m.v_)(e.phone_number),1),(0,r.Lk)("td",null,(0,m.v_)(e.email),1),(0,r.Lk)("td",null,(0,m.v_)(o.formatDate(e.created_at)),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{class:"delete-btn",onClick:t=>o.deleteRequest(e.id)},"Удалить",8,it)])])))),128))])]),(0,r.Lk)("div",ot,[(0,r.Lk)("button",{disabled:1===i.currentPage,onClick:t[1]||(t[1]=e=>i.currentPage--)},"Назад",8,lt),(0,r.Lk)("span",null,"Страница "+(0,m.v_)(i.currentPage)+" из "+(0,m.v_)(o.totalPages),1),(0,r.Lk)("button",{disabled:i.currentPage===o.totalPages,onClick:t[2]||(t[2]=e=>i.currentPage++)},"Вперёд",8,ct)])]))]),(0,r.Lk)("section",dt,[t[14]||(t[14]=(0,r.Lk)("h2",null,"Управление отзывами",-1)),(0,r.Lk)("div",ut,[(0,r.Lk)("div",ht,[t[11]||(t[11]=(0,r.Lk)("label",{for:"review-text"},"Текст отзыва",-1)),(0,r.bo)((0,r.Lk)("textarea",{id:"review-text","onUpdate:modelValue":t[3]||(t[3]=e=>i.newReview.text=e),placeholder:"Введите текст отзыва"},null,512),[[a.Jo,i.newReview.text]])]),(0,r.Lk)("div",vt,[t[12]||(t[12]=(0,r.Lk)("label",{for:"review-author"},"Автор",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"review-author","onUpdate:modelValue":t[4]||(t[4]=e=>i.newReview.name=e),placeholder:"Введите имя автора"},null,512),[[a.Jo,i.newReview.name]])]),(0,r.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>o.addReview&&o.addReview(...e)),disabled:i.adding},"Добавить отзыв",8,mt)]),i.loadingReviews?((0,r.uX)(),(0,r.CE)("div",pt,"Загрузка отзывов...")):i.reviewError?((0,r.uX)(),(0,r.CE)("div",gt,(0,m.v_)(i.reviewError),1)):((0,r.uX)(),(0,r.CE)("div",ft,[(0,r.Lk)("table",bt,[t[13]||(t[13]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Текст"),(0,r.Lk)("th",null,"Автор"),(0,r.Lk)("th",null,"Дата"),(0,r.Lk)("th",null,"Действия")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.paginatedReviews,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,m.v_)(e.text),1),(0,r.Lk)("td",null,(0,m.v_)(e.name),1),(0,r.Lk)("td",null,(0,m.v_)(o.formatDate(e.createdAt)),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{class:"delete-btn",onClick:t=>o.deleteReview(e.id)},"Удалить",8,kt)])])))),128))])]),(0,r.Lk)("div",wt,[(0,r.Lk)("button",{disabled:1===i.currentReviewPage,onClick:t[6]||(t[6]=e=>i.currentReviewPage--)},"Назад",8,Lt),(0,r.Lk)("span",null,"Страница "+(0,m.v_)(i.currentReviewPage)+" из "+(0,m.v_)(o.totalReviewPages),1),(0,r.Lk)("button",{disabled:i.currentReviewPage===o.totalReviewPages,onClick:t[7]||(t[7]=e=>i.currentReviewPage++)},"Вперёд",8,yt)])]))])])}s(2489);var Ft={name:"AdminPanel",data(){return{requests:[],reviews:[],loading:!1,loadingReviews:!1,error:"",reviewError:"",currentPage:1,currentReviewPage:1,itemsPerPage:5,reviewItemsPerPage:3,newReview:{text:"",name:""},adding:!1,editingReview:null,backendPort:"http://212.192.127.152:9000"}},computed:{sortedRequests(){return[...this.requests].sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at)))},paginatedRequests(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.requests.slice(e,t)},totalPages(){return Math.ceil(this.requests.length/this.itemsPerPage)},paginatedReviews(){const e=(this.currentReviewPage-1)*this.reviewItemsPerPage,t=e+this.reviewItemsPerPage;return this.reviews.slice(e,t)},totalReviewPages(){return Math.ceil(this.reviews.length/this.reviewItemsPerPage)}},watch:{currentPage(){this.fetchRequests()},currentReviewPage(){this.fetchReviews()}},methods:{async fetchRequests(){this.loading=!0,this.error="";try{const e=localStorage.getItem("authToken"),t=await ue.A.get("http://212.192.127.152:9000/data/",{headers:{Authorization:`Bearer ${e}`},params:{_page:this.currentPage,_limit:this.itemsPerPage},withCredentials:!0});this.requests=t.data,console.log(this.requests)}catch(e){e.response&&401===e.response.status?this.logout():(this.error="Ошибка при загрузке заявок. Попробуйте снова.",console.error("Fetch requests error:",e))}finally{this.loading=!1}},async fetchReviews(){this.loadingReviews=!0,this.reviewError="";try{const e=localStorage.getItem("authToken"),t=await ue.A.get("http://212.192.127.152:9000/reviews",{headers:{Authorization:`Bearer ${e}`},params:{_page:this.currentReviewPage,_limit:this.reviewItemsPerPage}});this.reviews=t.data}catch(e){this.reviewError="Ошибка при загрузке отзывов. Попробуйте снова.",console.error("Fetch reviews error:",e)}finally{this.loadingReviews=!1}},async addReview(){if(this.newReview.text.trim()&&this.newReview.name.trim()){this.adding=!0;try{const e=localStorage.getItem("authToken"),t=await ue.A.post("http://212.192.127.152:9000/reviews",this.newReview,{headers:{Authorization:`Bearer ${e}`}});this.reviews.push(t.data),this.newReview={text:"",name:""},this.reviewError=""}catch(e){this.reviewError="Ошибка при добавлении отзыва.",console.error("Add review error:",e)}finally{this.adding=!1}}else this.reviewError="Заполните все поля"},editReview(e){this.editingReview={...e}},async saveReview(){if(this.editingReview.text.trim()&&this.editingReview.name.trim())try{const e=localStorage.getItem("authToken");await ue.A.put(`http://212.192.127.152:9000/reviews/${this.editingReview.id}`,this.editingReview,{headers:{Authorization:`Bearer ${e}`}});const t=this.reviews.findIndex((e=>e.id===this.editingReview.id));-1!==t&&this.reviews.splice(t,1,this.editingReview),this.editingReview=null,this.reviewError=""}catch(e){this.reviewError="Ошибка при сохранении отзыва.",console.error("Save review error:",e)}else this.reviewError="Заполните все поля"},async deleteReview(e){if(confirm("Вы уверены, что хотите удалить этот отзыв?"))try{const t=localStorage.getItem("authToken");await ue.A.delete(`http://212.192.127.152:9000/reviews/${e}`,{headers:{Authorization:`Bearer ${t}`}}),this.reviews=this.reviews.filter((t=>t.id!==e))}catch(t){this.reviewError="Ошибка при удалении отзыва.",console.error("Delete review error:",t)}},async deleteRequest(e){if(confirm("Вы уверены, что хотите удалить эту заявку?"))try{const t=localStorage.getItem("authToken");await ue.A.delete(`http://212.192.127.152:9000/data/${e}`,{headers:{Authorization:`Bearer ${t}`}}),this.requests=this.requests.filter((t=>t.id!==e))}catch(t){this.error="Ошибка при удалении заявки.",console.error("Delete request error:",t)}},formatDate(e){const t=new Date(e);return t.toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},logout(){localStorage.removeItem("authToken"),this.$router.push("/admin/login")}},mounted(){this.fetchRequests(),this.fetchReviews()}};const Pt=(0,l.A)(Ft,[["render",_t],["__scopeId","data-v-4d3399d7"]]);var Et=Pt;const Rt=()=>!!localStorage.getItem("authToken"),At=[{path:"/",name:"Home",component:Me},{path:"/services",name:"Services",component:He},{path:"/admin/login",name:"AdminLogin",component:Ze},{path:"/admin",name:"AdminPanel",component:Et,beforeEnter:(e,t,s)=>{Rt()?s():s("/admin/login")}}],Ct=(0,u.aE)({history:(0,u.Bt)(),routes:At,scrollBehavior(e,t,s){return s||{top:0}}});var St=Ct;const $t=(0,a.Ef)(d);$t.use(St),$t.mount("#app")}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,a,r,n){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],n=e[d][2];for(var o=!0,l=0;l<a.length;l++)(!1&n||i>=n)&&Object.keys(s.O).every((function(e){return s.O[e](a[l])}))?a.splice(l--,1):(o=!1,n<i&&(i=n));if(o){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,r,n]}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,n,i=a[0],o=a[1],l=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(l)var d=l(s)}for(t&&t(a);c<i.length;c++)n=i[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},a=self["webpackChunksite_marina"]=self["webpackChunksite_marina"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(7750)}));a=s.O(a)})();
//# sourceMappingURL=app.7cbe9862.js.map